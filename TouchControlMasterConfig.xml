<?xml version="1.0" encoding="utf-8"?>
<touchControl platform="mac"><locations><location name="Default iPad"/><location name="Default iPhone"/><location name="hometheater"/><location name="sauna"/></locations><activities><activity name="Scoreboard"/><activity name="Chat"/><activity name="Unlock"/><activity name="DirecTV Remote" deviceType="1"/><activity name="Watch Movie" location="Default iPad" active="yes" mousekeyboard="no" deviceType="1"/><activity name="Startup theater" location="Default iPad" active="yes" mousekeyboard="no"/><activity name="Theater Startup" location="hometheater" active="yes" mousekeyboard="no" deviceType="1"/><activity name="Sauna Controls" location="sauna" active="yes" mousekeyboard="no" deviceType="1"/><activity name="control sauna2" location="sauna" active="yes" mousekeyboard="no" deviceType="1"/><activity name="kodi-controls" location="hometheater" active="yes" mousekeyboard="no" deviceType="1"/><activity name="devices" location="hometheater" active="yes" mousekeyboard="no" deviceType="1"/><activity name="firetv-controls"/><activity name="kodi Controls"/><activity name="kodi-controls-secondary"/></activities><devices><device name="Unlock"><buttons><button name="GoFullScreen" type="cmd" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="0" text="Go Full Screen"><code>{fullscreen:on}</code><prescript/><postscript/></button><button name="UnlockThenBack" type="mac" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="1" text=""><code>[{macrostart}{. (7)}|{UnlockScreen [Unlock]}|{Back [Unlock]}{macroend}]</code></button><button name="FadeThenClear" type="mac" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="2" text=""><code>[{macrostart}{Fade [Unlock]}|{. (5)}|{Clear [Unlock]}{macroend}]</code></button><button name="PassLabel" type="label" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="-1" interval="" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="3" text=""><code/></button><button name="LockScreen" type="cmd" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="4" text=""><code>{screen lock:on}</code><prescript/></button><button name="Back" type="link" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="[go back]" repeat="1" interval="" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="5" text=""><code/></button><button name="UnlockScreen" type="cmd" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="6" text=""><code>{screen lock:off}</code></button><button name="OnLoad" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="7" text=""><code/><script>_local.checkPass = function() {
  if (_local.passOut.length &gt; _local.myPass.length) {
    _local.passOut = _local.passOut.substr(0,_local.passOut.length-1);
  }
  _setText('PassLabel', Array(_local.passOut.length+1).join('●  '));
  if (_local.passOut.length == _local.myPass.length) {
    if (_local.passOut == _local.myPass) {
      _setText('PassLabel', Array(_local.passOut.length+1).join('✔︎  '));
      _setTextColor('PassLabel','Green');
      return '[#]UnlockThenBack';
    } else {
      _setTextColor('PassLabel','Red');
      _setText('PassLabel', Array(_local.passOut.length+1).join('✘  '));
      if (_local.shouldVibrate) {
        _vibrate();
        _local.shouldVibrate = false;
        return '[#]FadeThenClear';
      }
    }
  } else {
    _setTextColor('PassLabel','White');
    _setAlpha('PassLabel',1);
    _local.shouldVibrate = true;
    if (_local.passOut.length == 1) {
      _animateAlpha('PassBackdrop',.3);
    } else if (_local.passOut.length == 0) {
      _animateAlpha('PassBackdrop',0);
    }
  }
}

if (_global.chatLockCode == undefined) {
  alert('No lock code found.  Exiting.');
  return '[#]Back';
}

//////////////////////////////////////////////////
// Update this variable with your desired passcode
_local.myPass =_global.chatLockCode;
//////////////////////////////////////////////////

_local.passOut = '';
_local.shouldVibrate = false;
_setAlpha('PassBackdrop',0);
_setEnabled('PassBackdrop',true);
if (!_fullScreen){
  return '[#]GoFullScreen';
}else{
  return '[#]LockScreen';
}</script></button><button name="UnlockLabel" type="label" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="-1" interval="" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="8" text=""><code>Enter passcode to unlock</code></button><button name="Keypad" type="group" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="9" text=""><code/></button><button name="1" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="10" text=""><code/><script>_local.passOut += '1';
return _local.checkPass();</script></button><button name="2" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="11" text=""><code/><script>_local.passOut += '2';
return _local.checkPass();</script></button><button name="3" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="12" text=""><code/><script>_local.passOut += '3';
return _local.checkPass();</script></button><button name="6" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="13" text=""><code/><script>_local.passOut += '6';
return _local.checkPass();</script></button><button name="5" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="14" text=""><code/><script>_local.passOut += '5';
return _local.checkPass();</script></button><button name="4" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="15" text=""><code/><script>_local.passOut += '4';
return _local.checkPass();</script></button><button name="7" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="16" text=""><code/><script>_local.passOut += '7';
return _local.checkPass();</script></button><button name="8" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="17" text=""><code/><script>_local.passOut += '8';
return _local.checkPass();</script></button><button name="9" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="18" text=""><code/><script>_local.passOut += '9';
return _local.checkPass();</script></button><button name="Delete" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="19" text=""><code/><script>if (_local.passOut.length &gt; 0) {
  _local.passOut = _local.passOut.substr(0,   _local.passOut.length-1);
  _local.checkPass();
}</script></button><button name="0" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="20" text=""><code/><script>_local.passOut += '0';
return _local.checkPass();</script></button><button name="Clear" type="script" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" group="Unlock^Keypad" template="0" index="21" text=""><code/><script>_local.passOut = '';
_local.checkPass();</script></button><button name="PassBackdrop" type="label" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="-1" interval="" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" index="22" text=""><code/></button><button name="HintLabel" type="label" top="" left="" textPosition="" textSize="" textColor="" width="" height="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="-1" interval="" rotation="" autoexec="" autoexit="" autoresume="" icon="" touchTip="" text=""><code>Hint: 1234</code></button></buttons></device><device name="testing"><buttons><button name="Watch a Movie" type="link" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><postscript/></button><button name="Shutdown Theater" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><postscript/></button><button name="Device Controls" type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><postscript/></button><button name="screen relay1 on" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R1" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:1,1</code><postscript/><script/><prescript/></button><button name="screen relay1 off" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R1" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:1,0</code><postscript/><script/><prescript/></button><button name="screen relay2 on" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R2" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:2,1</code><postscript/><script/><prescript/></button><button name="screen relay2 off" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R2" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:2,0</code><postscript/><script/><prescript/></button><button name="embedded_color_picker" type="web" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="interactive" repeat="0" interval="0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>&lt;html&gt;
  &lt;head&gt;
    &lt;!-- ... --&gt;
    &lt;script src="http://localhost/html//iro.min.js"&gt;&lt;/script&gt;
   &lt;script&gt;
var colorPicker = new iro.ColorPicker('#picker');
&lt;/script&gt;
  &lt;/head&gt;
  &lt;!-- ... --&gt;
&lt;div id="picker"&gt;&lt;/div&gt;
&lt;h1&gt;hello&lt;/h1&gt;
&lt;/html&gt;</code><postscript/></button><button name="tinycolorpicker" type="web" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="interactive" repeat="1" interval="0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"&gt;
&lt;head&gt;
	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
    &lt;title&gt;Tiny Colorpicker: A lightweight cross browser color picker.&lt;/title&gt;
	&lt;link rel="stylesheet" href="http://localhost/html/tinycolorpicker/tinycolorpicker.css" type="text/css" media="screen"/&gt;

      &lt;!-- /build --&gt;
	&lt;script type="text/javascript"&gt;
		$(document).ready(function()
        {
			var $box = $('#colorPicker');
            $box.tinycolorpicker();
		});
	&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="colorPicker"&gt;
        &lt;a class="color"&gt;&lt;div class="colorInner"&gt;&lt;/div&gt;&lt;/a&gt;
        &lt;div class="track"&gt;&lt;/div&gt;
        &lt;ul class="dropdown"&gt;&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;
        &lt;input type="hidden" class="colorInput"/&gt;

    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code><postscript>  &lt;script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"&gt;&lt;/script&gt;
    &lt;!-- build:js jquery.tinycolorpicker.js --&gt;
    &lt;script type="text/javascript" src="http://localhost/html/tinycolorpicker/jquery.tinycolorpicker.js"&gt;&lt;/script&gt;
</postscript></button><button name="colorpickerpro" type="web" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="interactive" repeat="1" interval="0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>&#13;
&lt;html&gt;&#13;
&lt;head&gt;&#13;
&lt;meta charset="utf-8"&gt;&#13;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;&#13;
&lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt;&#13;
    &lt;link rel="stylesheet" href="http://localhost/html/colorpickerpro/bootstrap.min.css"&gt;&#13;
    &lt;link rel="stylesheet" href="http://localhost/html/colorpickerpro/light.min.css"&gt;&#13;
    &lt;style&gt;&#13;
        body {&#13;
            padding: 20px;&#13;
        }&#13;
&#13;
        .colorpicker-ex-block {&#13;
            height: 36px;&#13;
            border-radius: 3px;&#13;
        }&#13;
&#13;
        .colorpicker-ex-block--text-example {&#13;
            border: 2px solid #ccc;&#13;
            padding: 10px;&#13;
        }&#13;
    &lt;/style&gt;&#13;
&lt;/head&gt;&#13;
&lt;body&gt;&#13;
        &lt;div class="col-lg-4"&gt;&#13;
            &lt;div class="form-group form-group-colorpicker"&gt;&#13;
                &lt;label&gt;Custom Anchor&lt;/label&gt;&#13;
                &lt;div&gt;&#13;
                    &lt;div id="dc-ex2" class="colorpicker-custom-anchor colorpicker-circle-anchor"&gt;&#13;
                        &lt;div class="colorpicker-circle-anchor__color" data-color&gt;&lt;/div&gt;&#13;
                    &lt;/div&gt;&#13;
                &lt;/div&gt;&#13;
                &lt;small class="form-text text-muted"&gt;format: &lt;code&gt;rgba&lt;/code&gt;&lt;/small&gt;&#13;
            &lt;/div&gt;&#13;
        &lt;/div&gt;&#13;
&#13;
  &#13;
&lt;/body&gt;&#13;
&lt;/html&gt;</code><postscript>  &lt;script src="http://localhost/html/colorpickerpro/jquery-3.3.1.slim.min.js"&gt;&lt;/script&gt;&#13;
    &lt;script src="http://localhost/html/colorpickerpro/popper.min.js"&gt;&lt;/script&gt;&#13;
    &lt;script src="http://localhost/html/colorpickerpro/bootstrap.min.js"&gt;&lt;/script&gt;&#13;
    &lt;script src="http://localhost/html/colorpickerpro/multi-spectral-picker.min.js"&gt;&lt;/script&gt;&#13;
    &lt;script&gt;&#13;
        (function ($) {&#13;
            'use strict';&#13;
&#13;
            $(document).ready(function() {&#13;

		alert("here");&#13;
                var colorPickerMultiSpectralCustomAnchor = new ColorPicker.MultiSpectral('#dc-ex2', {&#13;
                    color: 'green'&#13;
                });&#13;
        })(jQuery);&#13;
    &lt;/script&gt;</postscript></button><button name="html5colorpicker" type="web" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="interactive" repeat="1" interval="0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;title&gt;HTML5 Color Picker Demonstrated&lt;/title&gt;
  &lt;script language="javascript"&gt;
  function newBackgroundColor(color)
  {
     document.bgColor = color;
     document.colorForm.selectedcolor.value = color;
  }
  &lt;/script&gt;
&lt;/head&gt;
&lt;body bgcolor="white"&gt;
&lt;header&gt;
  &lt;h1&gt;HTML 5 Color Picker Demonstrated&lt;/h1&gt;
&lt;/header&gt;
&lt;form name="colorForm"&gt;
   &lt;p&gt;Select Background Color
   &lt;input name="colorpicker" type="color" onchange="newBackgroundColor(colorpicker.value);"&gt;
   &lt;/p&gt;
   &lt;p&gt;
   Selected Color
   &lt;input name="selectedcolor" type="text"&gt;
   &lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code><postscript/></button><button name="dim command button" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="dim" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen full dim}</code><script/><prescript/><postscript/></button><button name="volume slider" type="slide" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="multi_button" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="volume slider" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>0:30:1:10:testing^volumeup:testing^volumeup</code><postscript/></button><button name="volumeup" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="MainZone/index.put.asp?cmd0=PutMasterVolumeSet%2F%value%" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp?cmd0=PutMasterVolumeSet%2F-%value%</code><script/><prescript/><postscript/></button><button name="test2" type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/></button><button name="sleep on command button" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="sleep on" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{enable sleep}</code><script/><prescript/><postscript/></button><button name="sleep off button" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="sleep off" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{disable sleep}</code><script/><prescript/><postscript/></button><button name="dim 10 command button" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="dim" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen set bright:10}</code><script/><prescript/><postscript/></button></buttons></device><device name="Sauna hubitat page"><buttons><button name="hubitat embeded webpage" type="web" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="1" interval="0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>http://192.168.1.51/apps/api/405/dashboard/405?access_token=cf8984fb-ac11-4ab9-a810-d1e99f1a3f48&amp;amp;local=true</code><postscript/></button></buttons></device><device name="sauna"><buttons><button name="start-sauna-req" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/622/push?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript/><postscript/></button><button name="sauna-off-req" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/625/push?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript/><postscript/></button><button name="sound on" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="luffy" remotePort="GET" voice="" varImage=""><code>eventghost.html?sauna_music=on</code><script/><prescript/><postscript/></button><button name="sound off" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="luffy" remotePort="GET" voice="" varImage=""><code>eventghost.html?sauna_music=off</code><script/><prescript/><postscript/></button><button name="start-sauna" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{full-brightness [common]}|{start-sauna-req [sauna]}|{! (5)}{macroend}]!</code></button><button name="sauna-off" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{sauna-off-req [sauna]}|{dim_later [common]}{macroend}]</code><postscript>_setImage('start-sauna', 'sauna-buttons/Sauna-on.png');</postscript></button><button name="sauna-check-status-timer" type="http#&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="5.00" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/588?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script>[quiet]

if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);

_local.masterStatus = data.attributes[0].currentValue;

log('feedback ' + _local.masterStatus + ', ' + _brightness);
  if (_local.masterStatus == 'on') {
    _local.lastStatus = _local.masterStatus;
    _setImage('start-sauna', 'sauna-buttons/Sauna-on-selected.png');
    if( _brightness == 0) {
        return '[#]full-brightness';
       }
  } else if (_local.masterStatus == 'off') {
      _local.lastStatus = _local.masterStatus;
      _setImage('start-sauna', 'sauna-buttons/Sauna-on.png');
  }
}</script><prescript/><postscript/></button><button name="onloadbutton-sauna" type="script" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script>_enableActivitySwipe(false);


// trigger sauna status check on load too.
return '[#](&gt;)sauna-check-status-timer';</script></button><button name="_macroMessage" type="label" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="_macroMessage" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>Please Wait Starting up...</code></button><button name="sauna-vol-slider" type="slide" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="multi_button" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="sauna-vol-slider" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>0:50:10:10:sauna^sauna-vol-req:sauna^sauna-vol-req</code><postscript/></button><button name="sauna-vol-req" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="luffy" remotePort="GET" voice="" varImage=""><code>eventghost.html?volume=%value%</code><script/><prescript/><postscript/></button><button name="color-spinner" type="spin" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="custom" repeat="1" interval="1.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="color-spinner" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>sauna^color-orange|sauna^color-azure|sauna^color-spring|sauna^color-rose|sauna^color-charreuse|sauna^color-rotate|:GRID</code></button><button name="color-rose" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Rose" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/456/setColor/{"hue":91,"saturation":100,"level":100}?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript>return '[#]{&lt;}color-rotate';</prescript><postscript/></button><button name="color-spring" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Spring" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/456/setColor/{"hue":42,"saturation":100,"level":100}?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript>return '[#]{&lt;}color-rotate';</prescript><postscript/></button><button name="color-charreuse" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Charreuse" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/456/setColor/{"hue":27,"saturation":100,"level":100}?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript>return '[#]{&lt;}color-rotate';</prescript><postscript/></button><button name="color-azure" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Azure" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/456/setColor/{"hue":57,"saturation":100,"level":100}?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript>return '[#]{&lt;}color-rotate';</prescript><postscript/></button><button name="color-orange" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Orange" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/456/setColor/{"hue":10,"saturation":92,"level":26}?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript>return '[#]{&lt;}color-rotate';</prescript><postscript/></button><button name="color spinner panel" type="label" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Lighting Colors" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>Lighting Colors</code></button><button name="color-spinner-label" type="label" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Lighting Colors" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>&lt;-- Lighting Colors --&gt;</code></button><button name="color-rotate" type="script#" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="60" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="rotate" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code/><script>var colorButtons = ['color-spring', 'color-orange','color-rose','color-charreuse','color-asure'];


if(_local.curColorIdx == undefined ) {
  _local.curColorIdx = 0;
} else {
  _local.curColorIdx += 1 % 5;
//log('here2 ' + _local.curColorIdx);
}

//log('got color index ' + _local.curColorIdx);
return '[#]' + colorButtons[_local.curColorIdx];</script><prescript/><postscript/></button><button name="sauna-check-brightness-timer" type="script#" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="30" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script>if (_local.fullBrightness == undefined) {
    _local.fullBrightness = 1;
    return '[#]full-brightness';
}

if (_local.fullBrightness == 0 &amp;amp;&amp;amp; _brightness == 1) {
    _local.fullBrightness = 1;
}

if (_local.masterStatus == 'on') {
    if(_local.fullBrightness == 0) {
        _local.fullBrightness = 1;
        return '[#]full-brightness';
    }
}  else if (_local.masterStatus == 'off') {
    if(_local.fullBrightness == 1) {
        _local.fullBrightness = 0;
        return '[#]dim';
    }
}</script></button></buttons></device><device name="Home"><buttons><button name="system off" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{full-brightness [common]}|{theater soffits on soft [theaterroom]}|{power off (globalcache) [sonyprojector]}|{.}|{screen up [projector screen]}|{home [kodi]}|{POWER OFF [theater marantz]}{macroend}]</code></button><button name="watch a movie" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{POWER ON [theater marantz]}|{INPUT MPLAY [theater marantz]}|{! (2) X}|{Volume-to-default [theater marantz]}|{top-menu [kodi]}|{screen down [projector screen]}|{!}|{theater mode lighting- dark [theaterroom]}|{power on (globalcache) [sonyprojector]}|{! (8)}|{go to watch a movie page [Home]}|{dim 70 [common]}{macroend}]!</code><prescript/><postscript>return '[#]source-kodi';</postscript></button><button name="music time" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script/><prescript/><postscript/></button><button name="devices" type="link" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="hometheater^devices" repeat="0" interval="11:0.3" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><prescript/></button><button name="go to watch a movie page" type="link" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="hometheater^kodi-controls:no_history" repeat="0" interval="11:0.3" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><prescript/></button><button name="_macroMessage" type="label" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="%message%" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>%message%</code></button><button name="setLoadingMacroMessage" type="script" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script>//_setText(_macroMessage, "Please Wait Startup up…");
_local.message = "Please Wait Startup up…";</script></button></buttons></device><device name="kodi"><buttons><button name="_macroMessage" type="label" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="3" text="" voice="" varImnage=""><code>%message%</code><properties>DisplayFrame[~~]center,center,80%,80%</properties></button><button name="total-time" type="label" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" group="kodi^time info panel" index="4" text="" voice="" varImnage=""><code/></button><button name="progress-bar" type="web" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="interactive;background" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" group="kodi^time info panel" index="5" text="" voice="" varImnage=""><code>&lt;style&gt;
#progressbar {
  background-color: gray;
  border-radius: 13px;
  /* (height of inner div) / 2 + padding */
  padding: 3px;
}

#progressbar&gt;div {
  background-color: blue;
  width: 40%;
  /* Adjust with JavaScript */
  height: 20px;
  border-radius: 10px;
}
&lt;/style&gt;
&lt;body&gt;
&lt;div id="progressbar"&gt;
  &lt;div&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;</code><postscript>
            </postscript></button><button name="End Time" type="label" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" group="kodi^time info panel" index="6" text="Finishes at: %endTime%" voice="" varImnage=""><code>Movie Ends at: %endTime%</code><script>_local.player.currenty

var date1 = new Date("08/05/2015 23:41:20");
var date2 = new Date("08/06/2015 02:56:32");

var diff = date2.getTime() - date1.getTime();

var msec = diff;
var hh = Math.floor(msec / 1000 / 60 / 60);
msec -= hh * 1000 * 60 * 60;
var mm = Math.floor(msec / 1000 / 60);
msec -= mm * 1000 * 60;
var ss = Math.floor(msec / 1000);
msec -= ss * 1000;

alert(hh + ":" + mm + ":" + ss);</script><script>
_local.player.currenty

var date1 = new Date("08/05/2015 23:41:20");
var date2 = new Date("08/06/2015 02:56:32");

var diff = date2.getTime() - date1.getTime();

var msec = diff;
var hh = Math.floor(msec / 1000 / 60 / 60);
msec -= hh * 1000 * 60 * 60;
var mm = Math.floor(msec / 1000 / 60);
msec -= mm * 1000 * 60;
var ss = Math.floor(msec / 1000);
msec -= ss * 1000;

alert(hh + ":" + mm + ":" + ss);</script></button><button name="current-time" type="label" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" group="kodi^time info panel" index="7" text="Time: %currentTime%" voice="" varImnage=""><code>Total Time: %playerTotalTime% (Elapsed: %playerTime%, Time Left: %timeLeft%)</code></button><button name="time info panel" type="group" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" template="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="8" text="" voice="" varImnage=""><code/></button><button name="more-controls-link" type="link" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="[bg]hometheater^kodi-controls-secondary" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="9" text="" voice="" varImnage=""><code/><prescript>
            </prescript></button><button name="pause" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="10" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"pause"},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="play" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="11" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"play"},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="subtitle-check" type="http#&lt;" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.45" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="12" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.GetProperties","params":{"playerid":1,"properties":["subtitleenabled"]},"id":1}</code><script>log("subtitle-check remote subtitles call started " + _feedback);

if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);

curSubtitles = data.result.subtitleenabled;
log("remote subtitles:" + curSubtitles);

if (curSubtitles == false) {
  _local.nextSubtitlesValue = 'on';
  _setImage('subtitles', 'theater-buttons/enable-subtitles-noselected.png');
} else if (curSubtitles == true) {
    _local.nextSubtitlesValue = 'off';
    _setImage('subtitles', 'theater-buttons/enable-subtitles-selected.png');
}
}</script><prescript/><postscript/><script>[quiet]
if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);

curSubtitles = data.result.subtitleenabled;

if (curSubtitles == false) {
  _local.nextSubtitlesValue = 'on';
  _setImage('subtitles', 'theater-buttons/enable-subtitles-noselected.png');
} else if (curSubtitles == true) {
    _local.nextSubtitlesValue = 'off';
    _setImage('subtitles', 'theater-buttons/enable-subtitles-selected.png');
}
}</script><prescript>
            </prescript><postscript>
            </postscript></button><button name="playOrPause" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="13" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"%nextCommand%"},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="player-speed-check" type="http#&lt;" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.30" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="14" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.GetProperties","params":{"playerid":1,"properties":["speed","percentage","time","totaltime"]},"id":1}</code><script>
if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);

playerSpeed = data.result.speed;
_local.playerTime = data.result.time.hours + ':' + data.result.time.minutes;
_local.playerTotalTime = data.result.totaltime.hours + ':' + data.result.totaltime.minutes;
_local.playerPercentage = Math.round(data.result.percentage);

millisecTime = data.result.time.hours * 1000 * 60 *60 + data.result.time.minutes * 1000 * 60 + data.result.time.seconds * 1000;
millisecTotal = data.result.totaltime.hours * 1000 * 60 *60 + data.result.totaltime.minutes * 1000 * 60 + data.result.totaltime.seconds * 1000;
millisecTimeLeft = millisecTotal - millisecTime;

//_local.debugText = _local.debugText +'\n' 
// + 'got times:' +millisecTime + ',' + millisecTotal +',' + millisecTimeLeft;
//_setText('debug', _local.debugText);


today = new Date();
_local.endTime = 'n/a';
if( millisecTotal &gt; 0) {
    milliNow = today.getHours() * 1000 * 60 * 60 + today.getMinutes() * 1000 * 60 + today.getSeconds() * 1000;
    milliEndTime = milliNow + millisecTimeLeft;
    endHH = Math.floor(milliEndTime / 1000 / 60 / 60);
    msec = milliEndTime - endHH * 1000 * 60 * 60;
    endMM = Math.floor(msec / 1000 / 60);
    
    //_local.debugText = _local.debugText +'\n' + 'got time calcultions:' +milliNow 
// + ',' + milliEndTime +',' + endHH +',' + msec +',' + endMM;
    //_setText('debug', _local.debugText);

    _local.endTime = convert24HourTime(endHH, endMM);
    

    
}

endHH = Math.floor(millisecTimeLeft /1000/60/60);
msec = millisecTimeLeft - endHH * 1000 * 60 * 60;
endMM = Math.floor(msec /1000/ 60);
_local.timeLeft = endHH + ':' + endMM;

_local.currentTime = convert24HourTime(today.getHours(),today.getMinutes());






//_local.debugText = _local.debugText +'\n' + 'got player speed ' + playerSpeed;
//_local.debugText = _local.debugText +'\n' + 'got player percentage' 
// + _local.playerPercentage;

//_setText('debug', _local.debugText);

if (playerSpeed &gt; 0 ) {
    _local.nextCommand='pause';
    _setIcon('playOrPause', 'buttonicons/theater 70 x 70/pause.png');
} else if (playerSpeed == 0) {
    _local.nextCommand='play';
     log("setting icon play.png");
    _setIcon('playOrPause', 'buttonicons/theater 70 x 70/play.png');
}

function convert24HourTime(hours, min) {
    suffix = suffix = hours &gt;= 12 ? "PM":"AM";
    hours = ((hours + 11) % 12 + 1);
    min =  min &lt; 10 ? "0" + min : min;

    return hours +':' + min +' ' + suffix;
}
}</script><postscript>return '[#]progress-bar';</postscript><script>[quiet]
if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);

playerSpeed = data.result.speed;
_local.playerTime = data.result.time.hours + ':' + data.result.time.minutes;
_local.playerTotalTime = data.result.totaltime.hours + ':' + data.result.totaltime.minutes;
_local.playerPercentage = Math.round(data.result.percentage);

millisecTime = data.result.time.hours * 1000 * 60 *60 + data.result.time.minutes * 1000 * 60 + data.result.time.seconds * 1000;
millisecTotal = data.result.totaltime.hours * 1000 * 60 *60 + data.result.totaltime.minutes * 1000 * 60 + data.result.totaltime.seconds * 1000;
millisecTimeLeft = millisecTotal - millisecTime;

//_local.debugText = _local.debugText +'\n' 
// + 'got times:' +millisecTime + ',' + millisecTotal +',' + millisecTimeLeft;
//_setText('debug', _local.debugText);


today = new Date();
_local.endTime = 'n/a';
if( millisecTotal &gt; 0) {
    milliNow = today.getHours() * 1000 * 60 * 60 + today.getMinutes() * 1000 * 60 + today.getSeconds() * 1000;
    milliEndTime = milliNow + millisecTimeLeft;
    endHH = Math.floor(milliEndTime / 1000 / 60 / 60);
    msec = milliEndTime - endHH * 1000 * 60 * 60;
    endMM = Math.floor(msec / 1000 / 60);
    
    //_local.debugText = _local.debugText +'\n' + 'got time calcultions:' +milliNow 
// + ',' + milliEndTime +',' + endHH +',' + msec +',' + endMM;
    //_setText('debug', _local.debugText);

    _local.endTime = convert24HourTime(endHH, endMM);
    

    
}

endHH = Math.floor(millisecTimeLeft /1000/60/60);
msec = millisecTimeLeft - endHH * 1000 * 60 * 60;
endMM = Math.floor(msec /1000/ 60);
_local.timeLeft = endHH + ':' + endMM;

_local.currentTime = convert24HourTime(today.getHours(),today.getMinutes());






//_local.debugText = _local.debugText +'\n' + 'got player speed ' + playerSpeed;
//_local.debugText = _local.debugText +'\n' + 'got player percentage' 
// + _local.playerPercentage;

//_setText('debug', _local.debugText);

if (playerSpeed &gt; 0 ) {
    _local.nextCommand='pause';
    _setIcon('playOrPause', 'buttonicons/theater 70 x 70/pause.png');
} else if (playerSpeed == 0) {
    _local.nextCommand='play';
    _setIcon('playOrPause', 'buttonicons/theater 70 x 70/play.png');
}

function convert24HourTime(hours, min) {
    suffix = suffix = hours &gt;= 12 ? "PM":"AM";
    hours = ((hours + 11) % 12 + 1);
    min =  min &lt; 10 ? "0" + min : min;

    return hours +':' + min +' ' + suffix;
}
}</script><prescript/><postscript>return '[#]progress-bar';</postscript></button><button name="currentMovieTitle" type="label" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="15" text="" voice="" varImnage=""><code>Currently Playing:\n%currentMovieTitle%</code></button><button name="currently-playing-check" type="http#&lt;" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="1.00" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="16" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.GetItem","params":{"playerid":1,"properties":["art","title"]},"id":1}</code><script>if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);
if(data.result.item &amp;amp;&amp;amp; data.result.item.art) {
   poster = data.result.item.art.poster;
   title = data.result.item.title;
}
if (poster) {
_global.currentMoviePoster = 'http://192.168.1.11:18081/image/' + encodeURIComponent(poster);
_global.currentMovieTitle = title;

 log('got poster ' + poster);

} else {
 log('no poster' + poster);
//_global.currentMoviePoster = 'images/theater-buttons/postericon.png';
_global.currentMoviePoster = 'https://picsum.photos/150/220';
//_global.currentMoviePoster = '';
_global.currentMovieTitle = "No Movie Playing.";
}


return '[#]kodi^movie_image';

} else {
log("got error " + _feedback);


}</script><prescript>//dont null the poster attribute since once in a while we get a server error and it will
// just keep using the previous value</prescript><script>[quiet]

if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);
if(data.result.item &amp;amp;&amp;amp; data.result.item.art) {
   poster = data.result.item.art.poster;
   title = data.result.item.title;
}
if (poster) {
_global.currentMoviePoster = 'http://media.diodati.lan:18081/image/' + encodeURIComponent(poster);
_global.currentMovieTitle = title;
} else {
_global.currentMoviePoster = 'images/theater-buttons/postericon.png';
//_global.currentMoviePoster = 'https://picsum.photos/150/220';
//_global.currentMoviePoster = '';
_global.currentMovieTitle = "No Movie Playing.";
}


return '[#]kodi^movie_image';

} else {
//log("got error " + _feedback);


}</script><prescript>//dont null the poster attribute since once in a while we get a server error and it will
// just keep using the previous value</prescript><postscript>//checkServiceConnection('192.168.1.10', 80);</postscript></button><button name="check-timer" type="script#" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.3" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="17" text="" voice="" varImnage=""><code/><script>//return '[#]subtitle-check[#]currently playing[#]player-speed-check[#]{&gt;}volume-check';
return '[#]{&gt;}subtitle-check[#]{&gt;}currently playing[#]{&gt;}player-speed-check[#]{&gt;}volume-check';



//if (_connectable('192.168.1.11', 18080) ) {
  // trigger subtitle check on load too.
//  return '[#]subtitle-check[#]currently playing[#]player-speed-check';
//} else {
//  _local.message = 'Problem connecting to kodi please check device';
//  _setTop('_macroMessage', 100);
//  _setLeft('_macroMessage', 100);
  //_setWidth('_macroMessage', 800);
  //_setHeight('_macroMessage', 500);
//}</script><script>//return '[#]subtitle-check[#]currently playing[#]player-speed-check[#]{&gt;}volume-check';
return '[#]{&gt;}subtitle-check[#]{&gt;}currently playing[#]{&gt;}player-speed-check[#]{&gt;}volume-check';



//if (_connectable('192.168.1.11', 18080) ) {
  // trigger subtitle check on load too.
//  return '[#]subtitle-check[#]currently playing[#]player-speed-check';
//} else {
//  _local.message = 'Problem connecting to kodi please check device';
//  _setTop('_macroMessage', 100);
//  _setLeft('_macroMessage', 100);
  //_setWidth('_macroMessage', 800);
  //_setHeight('_macroMessage', 500);
//}</script></button><button name="movie_image" type="web" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="background" repeat="1" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="19" text="[&lt;html&gt;]" voice="" varImnage=""><code/><postscript>
            </postscript><htmlText>
            </htmlText></button><button name="step back" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="32" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"stepback"},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="rewind" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="33" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.SetSpeed","params":{"playerid":1,"speed":"decrement"},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="step forward" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="34" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"stepforward"},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="fastforward" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="35" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.SetSpeed","params":{"playerid":1,"speed":"increment"},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="info" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="36" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Info","id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="stop" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="37" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.Stop","params":{"playerid":1},"id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="subtitles" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="38" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.SetSubtitle","params":{"playerid":1,"subtitle":"%nextSubtitlesValue%"},"id":1}</code><prescript>log("before submit nextSubtitleValue is " + _local.nextSubtitlesValue);</prescript><postscript>return '[#]subtitle-check';</postscript><script/><prescript>_local.debugText = _local.debugText +"\n" + "before submit nextSubtitleValue is " + _local.nextSubtitlesValue;
_setText('debug', _local.debugText);</prescript><postscript>return '[#]subtitle-check';</postscript></button><button name="home" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Home","id":1}</code><script/><prescript/><postscript/></button><button name="rewind30" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.Seek","params":{"playerid":1,"value":"smallbackward"},"id":1}</code><script/><prescript/><postscript/></button><button name="forward30" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.Seek","params":{"playerid":1,"value":"smallforward"},"id":1}</code><script/><prescript/><postscript/></button><button name="Watched toggle" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"togglewatched"},"id":1}</code><script/><prescript/><postscript/></button><button name="back" type="link" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="[go back]" repeat="0" interval="0:0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code/><script/><prescript/><postscript/></button><button name="update-library" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method"."VideoLibrary.Scan","params":{"showdialogs":true},"id":1}</code><script/><prescript/><postscript/></button><button name="wake up htpc" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/587/on?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript/><postscript/></button><button name="current player total time" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.GetProperties","params":{"playerid":1,"properties":["totaltime"]},"id":1}</code><script/><prescript/><postscript/></button><button name="current player percentage time" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.GetProperties","params":{"playerid":1,"properties":["percentage","time"]},"id":1}</code><script/><prescript/><postscript/></button><button name="skip-next" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"skipnext"},"id":1}</code><script/><prescript/><postscript/></button><button name="skip-previous" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"skipprevious"},"id":1}</code><script/><prescript/><postscript/></button><button name="go to kodi controls page" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{INPUT MPLAY [theater marantz]}|{link to kodi controls [common]}{macroend}]</code></button><button name="backspace" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ExecuteAction","params":{"action":"backspace"},"id":1}</code><script/><prescript/><postscript/></button><button name="HTPC WOL " type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="WOL Boadcast" remotePort="" voice="" varImage=""><code>WOL[d017c288d1a2]\//</code><script/><prescript/><postscript/></button><button name="play macro" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{currently-playing-check [kodi]}|{player-speed-check [kodi]}|{play [kodi]}{macroend}]</code></button><button name="currently playing-disabled" type="http&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.GetItem","params":{"playerid":1,"properties":["art","title"]},"id":1}</code><script>_global.currentMoviePoster = "";
return '[#]movie_image';</script><prescript/><postscript/></button><button name="top-menu" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Home","id":1}</code><script/><prescript/><postscript/></button><button name="context-menu" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.ContextMenu","id":1}</code><script/><prescript/><postscript/></button><button name="time_into_movie" type="label" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>Time Into Movie: %playerTime%</code></button><button name="top button panel" type="group" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/></button><button name="subtitle-check2" type="http&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Player.GetProperties","params":{"playerid":1,"properties":["subtitleenabled"]},"id":1}</code><script>log('remote subtitles call started');

log("remote subtitles call started2 " + _feedback);

if(_feedback &amp;amp;&amp;amp; _feedback.startsWith('{')) {
data = JSON.parse(_feedback);

curSubtitles = data.result.subtitleenabled;
log("remote subtitles:" + curSubtitles);

if (curSubtitles == false) {
  _local.nextSubtitlesValue = 'on';
  _setImage('subtitles', 'theater-buttons/enable-subtitles-noselected.png');
} else if (curSubtitles == true) {
    _local.nextSubtitlesValue = 'off';
    _setImage('subtitles', 'theater-buttons/enable-subtitles-selected.png');
}
}</script><prescript/><postscript/></button></buttons></device><device name="common"><buttons><button name="dim" type="cmd" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="1" text="" voice="" varImnage=""><code>{screen full dim}</code><script/><prescript/><postscript>_local.fullBrightness = 0</postscript><script>
            </script><prescript>
            </prescript><postscript>_local.fullBrightness = 0</postscript></button><button name="debug" type="script" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="18" text="Logging Window" voice="" varImnage=""><code/><script>_local.debugText = "Cleared, Logging Window";
_setText('debug', _local.debugText);</script><script>_local.debugText = "Cleared, Logging Window";
_setText('debug', _local.debugText);</script></button><button name="onloadbutton-kodi-controls" type="script" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="22" text="" voice="" varImnage=""><code/><script>_enableActivitySwipe(false);

_local.tcDisconnect=myDisconnectFunction; // executes when socket connection is broken
_local.tcReconnect=myReconnectFunction; // executes when socket connection is re- established

currentSource = _activity.split('-')[0];

if (_global.activeSource != currentSource) {
  _global.activeSource = currentSource;


  _setImage('source-kodi','theater-buttons/sources-blank.png');
  _setImage('source-firetv','theater-buttons/sources-blank.png');

  _setImage('source-' + currentSource ,'theater-buttons/sources-blank-selected.png');
}

log('loading kodi');

//return '[#]check-timer';
return '[#]INPUT-' + currentSource +'[#]{&gt;}subtitle-check[#]{&gt;}currently-playing-check[#]{&gt;}player-speed-check[#]{&gt;}volume-check';




function myDisconnectFunction(button, host, port) {
     _local.message = 'Problem connecting to kodi please check device';
      _setTop('_macroMessage', 100);
      _setLeft('_macroMessage', 100);

}

function myReconnectFunction(button, host, port) {

}</script><script>_enableActivitySwipe(false);

_local.tcDisconnect=myDisconnectFunction; // executes when socket connection is broken
_local.tcReconnect=myReconnectFunction; // executes when socket connection is re- established

currentSource = _activity.split('-')[0];

if (_global.activeSource != currentSource) {
  _global.activeSource = currentSource;


  _setImage('source-kodi','theater-buttons/sources-blank.png');
  _setImage('source-firetv','theater-buttons/sources-blank.png');

  _setImage('source-' + currentSource ,'theater-buttons/sources-blank-selected.png');
}


//return '[#]check-timer';
return '[#]INPUT-' + currentSource +'[#]{&gt;}subtitle-check[#]{&gt;}currently-playing-check[#]{&gt;}player-speed-check[#]{&gt;}volume-check';




function myDisconnectFunction(button, host, port) {
     _local.message = 'Problem connecting to kodi please check device';
      _setTop('_macroMessage', 100);
      _setLeft('_macroMessage', 100);

}

function myReconnectFunction(button, host, port) {

}</script></button><button name="nav left" type="http+" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.05" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" group="common^navigation panel" index="23" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Left","id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="nav up" type="http+" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" group="common^navigation panel" index="24" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Up","id":1}</code><script/><prescript/><postscript/><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="nav right" type="http+" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.05" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" group="common^navigation panel" index="25" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Right","id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="nav down" type="http+" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" group="common^navigation panel" index="26" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Down","id":1}</code><script/><prescript/><postscript/></button><button name="nav select" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" group="common^navigation panel" index="27" text="" voice="" varImnage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Select","id":1}</code><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="navigation panel" type="group" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" template="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="28" text="" voice="" varImnage=""><code/></button><button name="source-kodi" type="mac" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="marantz-theater" remotePort="GET" icon="" touchTip="" watchHTTPDirect="False" group="common^source panel" index="29" text="" voice="" varImnage=""><code>[{macrostart}{INPUT MPLAY [theater marantz]}|{link to kodi controls [common]}{macroend}]</code><prescript>;</prescript><script>
            </script><prescript>;</prescript><postscript>
            </postscript></button><button name="source-firetv" type="mac" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="marantz-theater" remotePort="GET" icon="" touchTip="" watchHTTPDirect="False" group="common^source panel" index="30" text="" voice="" varImnage=""><code>[{macrostart}{turn_on [firetv]}|{INPUT AUX1 [theater marantz]}|{link to firetv controls [common]}{macroend}]</code><prescript>;</prescript><postscript>;</postscript><script>
            </script><prescript>;</prescript><postscript>;</postscript></button><button name="source panel" type="group" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" template="source panel template2" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="31" text="" voice="" varImnage=""><code/><properties>CornerRadius[~~]15</properties><script>
            </script><prescript>
            </prescript><postscript>
            </postscript></button><button name="home" type="link" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="hometheater^Theater Startup" repeat="0" interval="12:0.3" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" index="39" text="" voice="" varImnage=""><code/><prescript>
            </prescript></button><button name="dim_later" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="15" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen full dim}</code><script/><prescript/><postscript/></button><button name="dim 70" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen set bright:70}</code><script/><prescript/><postscript/></button><button name="full-brightness" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen set bright:100}</code><script/><prescript/><postscript/></button><button name="link to kodi controls" type="link" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="hometheater^kodi-controls:no_history" repeat="0" interval="3:0.3" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><prescript/></button><button name="update video library" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="kodi-proxy" remotePort="POST" voice="" varImage=""><code>jsonrpc[?]{"jsonrpc":"2.0","method":"VideoLibrary.Scan","id":1}</code><script/><prescript/><postscript/></button><button name="link to firetv controls" type="link" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="hometheater^firetv-controls:no_history" repeat="0" interval="3:0.3" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><prescript/></button><button name="onloadbutton-firetv-controls" type="script" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script>_enableActivitySwipe(false);

currentSource = _activity.split('-')[0];
// debugText = "Current activity name " + _activity +"\n";

if (_global.activeSource != currentSource) {
  _global.activeSource = currentSource;

  debugText =  _global.activeSource +"\n";

  _setImage('source-kodi','theater-buttons/sources-blank.png');
  _setImage('source-firetv','theater-buttons/sources-blank.png');

  _setImage('source-' + currentSource ,'theater-buttons/sources-blank-selected.png');
  debugText =  "Setting selected on " + 'source-' + _global.activeSource  +"; \n";

}

// trigger subtitle check on load too.
// trigger any other timers etc here
//return '[#]subtitle-check-timer';
return '[#]INPUT-' + currentSource;</script></button><button name="dim 20" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen set bright:20}</code><script/><prescript/><postscript/></button><button name="dim 30" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen set bright:30}</code><script/><prescript/><postscript/></button><button name="dim 80" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen set bright:80}</code><script/><prescript/><postscript/></button><button name="dim 50" type="cmd!" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{screen set bright:50}</code><script/><prescript/><postscript/></button><button name="enable-sleep" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{enable sleep}</code><script/><prescript/><postscript/></button><button name="disable-sleep" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>{disable sleep}</code><script/><prescript/><postscript/></button><button name="slider panel" type="group" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="slider panel" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/></button></buttons></device><device name="projector screen"><buttons><button name="screen relay1 off" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R1" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:1,0</code></button><button name="screen relay1 on" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R1" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:1,1</code></button><button name="screen relay2 off" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R2" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:2,0</code></button><button name="screen relay2 on" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="R2" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>setstate,3:2,1</code></button><button name="screen down" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{screen relay1 off [projector screen]}|{.}|{screen relay2 off [projector screen]}|{!}|{screen relay2 on [projector screen]}{macroend}]</code></button><button name="screen up" type="mac" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>[{macrostart}{screen relay1 off [projector screen]}|{.}|{screen relay2 off [projector screen]}|{!}|{screen relay1 on [projector screen]}{macroend}]</code></button><button name="screen controls label" type="label" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Screen Controls" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code>Projector</code></button></buttons></device><device name="theater marantz"><buttons><button name="INPUT CBL/SAT" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="POST" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_InputFunction%2FSAT%2FCBL&amp;amp;cmd1=aspMainZone_WebUpdateStatus%2F</code><script/><prescript/><postscript/></button><button name="INPUT BLU-RAY" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="POST" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_InputFunction%2FBD&amp;amp;cmd1=aspMainZone_WebUpdateStatus%2F</code><script/><prescript/><postscript/></button><button name="INPUT-kodi" type="http" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="marantz-theater" remotePort="POST" icon="" touchTip="" watchHTTPDirect="False" index="0" text="" voice="" varImnage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_InputFunction%2FBD&amp;amp;cmd1=aspMainZone_WebUpdateStatus%2F</code><script/><prescript/><postscript/></button><button name="volume-check" type="http#&lt;" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="1.15" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="marantz-theater" remotePort="GET" icon="" touchTip="" watchHTTPDirect="False" index="2" text="" voice="" varImnage=""><code>goform/formMainZone_MainZoneXml.xml</code><script>[quiet]
str = _feedback;
if (str &amp;amp;&amp;amp; str.startsWith('&lt;?xml')) {
startStr ='&lt;MasterVolume&gt;&lt;value&gt;';
start = str.indexOf(startStr);
end = str.indexOf('&lt;/value&gt;&lt;/MasterVolume&gt;', start);

vol = str.substring(start + startStr.length, end);
vol  = convertToRange(vol,[-30,-10],[42,62]);
_setSelectedIndex('volume-slider', vol);
//log('got volume: ' + vol);
}</script><script>[quiet]
str = _feedback;
if (str &amp;amp;&amp;amp; str.startsWith('&lt;?xml')) {
startStr ='&lt;MasterVolume&gt;&lt;value&gt;';
start = str.indexOf(startStr);
end = str.indexOf('&lt;/value&gt;&lt;/MasterVolume&gt;', start);

vol = str.substring(start + startStr.length, end);
vol  = convertToRange(vol,[-30,-10],[42,62]);
_setSelectedIndex('volume-slider', vol);
//log('got volume: ' + vol);
}</script><prescript>
            </prescript><postscript>
            </postscript></button><button name="volume-slider" type="slide" varImage="" left="" donate="false" top="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="multi_button" repeat="0" interval="0.0" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" remoteHost="" remotePort="" icon="" touchTip="" watchHTTPDirect="False" group="projector screen^slider panel" index="20" text="volume-slider" voice="" varImnage=""><code>42:62:1:57:theater marantz^volumeset:theater marantz^volumeset</code><properties>sliderThumb[~~]theaterslider-thumb.png[~]sliderBarRight[~~]theaterslider-rightbar.png[~]sliderBarLeft[~~]theaterslider-leftbar.png</properties><postscript>
            </postscript></button><button name="volumeset" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="MainZone/index.put.asp?cmd0=PutMasterVolumeSet%2F%value%" touchTip="" remoteHost="marantz-theater" remotePort="POST" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutMasterVolumeSet%2F%value%0</code><script/><prescript>// the http request has a 0 at the end since the 420 - 620 is the same as -30 to -10
//_local.volumeLevel = convertToRange(%value%,[0,20],[-30,-10]);
//log ('setting vol: %value%' + _getSelectedIndex('volume-slider') +',' 
// + _local.volumeLevel);</prescript><postscript/></button><button name="INPUT MPLAY" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="POST" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_InputFunction%2FMPLAY&amp;amp;cmd1=aspMainZone_WebUpdateStatus%2F</code><script/><prescript/><postscript/></button><button name="SURROUND-AUTO" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp?cmd0=PutSurroundMode/AUTO&amp;amp;cmd1=aspMainZone_WebUpdateStatus</code><script/><prescript/><postscript/></button><button name="SURROUND-Multi-channel Stereo" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp?cmd0=PutSurroundMode/MCH+STEREO&amp;amp;cmd1=aspMainZone_WebUpdateStatus</code><script/><prescript/><postscript/></button><button name="INPUT -PANDORA" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp?cmd0=PutZone_InputFunction/PANDORA&amp;amp;cmd1=aspMainZone_WebUpdateStatus</code><script/><prescript/><postscript/></button><button name="MUTE ON" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp?cmd0=PutVolumeMute/on&amp;amp;cmd1=aspMainZone_WebUpdateStatus</code><script/><prescript/><postscript/></button><button name="MUTE OFF" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp?cmd0=PutVolumeMute/off&amp;amp;cmd1=aspMainZone_WebUpdateStatus</code><script/><prescript/><postscript/></button><button name="STATUS QUERY" type="http&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>goform/formMainZone_MainZoneXml.xml</code><script/><prescript/><postscript/></button><button name="POWER ON" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_OnOff/ON&amp;amp;cmd1=aspMainZone_WebUpdateStatus</code><script/><prescript/><postscript/></button><button name="POWER OFF" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="POST" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_OnOff%2FOFF&amp;amp;cmd1=aspMainZone_WebUpdateStatus%2F</code><script/><prescript/><postscript/></button><button name="INPUT AUX1" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="POST" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_InputFunction%2FAUX1&amp;amp;cmd1=aspMainZone_WebUpdateStatus%2F</code><script/><prescript/><postscript/></button><button name="slider-script" type="cmd" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script/><prescript>log (slider-scriptl: %value%' +  value + _getSelectedIndex('volume-slider') +',' + _local.volumeLevel);</prescript><postscript/></button><button name="Volume-to-default" type="http&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="marantz-theater" remotePort="GET" voice="" varImage=""><code>MainZone/index.put.asp?cmd0=PutMasterVolumeSet%2F570</code><script/><prescript/><postscript/></button><button name="INPUT-firetv" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="INPUT-firetv" touchTip="" remoteHost="marantz-theater" remotePort="POST" voice="" varImage=""><code>MainZone/index.put.asp[?]cmd0=PutZone_InputFunction%2FAUX1&amp;amp;cmd1=aspMainZone_WebUpdateStatus%2F</code></button></buttons></device><device name="projector"><buttons><button name="power on" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="On" touchTip="" remoteHost="globalcache-serial1" remotePort="" voice="" varImage=""><code>\x02PON\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="power off" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Off" touchTip="" remoteHost="globalcache-serial1" remotePort="" voice="" varImage=""><code>\x02POF\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Input HDMI 1" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02IIS:HD1\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Input HDMI 2" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02IIS:HD2\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Input HDMI 3" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02IIS:HD3\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Normal" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:NOR\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Dynamic" type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="ChatClient" remotePort="" voice="" varImage=""><code>\x02VPM:DYN\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Game" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:GM1\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Cinema 1" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:CN1\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Cinema 2" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:CN2\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - D-Cinema" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:DCN\x03\//</code><script/><prescript/><postscript/></button><button name="Power Model Query" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02QPW\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Input Query" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02QIN\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Picture Mode Query" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02QPM\x03\x0D\//</code><script/><prescript/><postscript/></button></buttons></device><device name="theaterroom"><buttons><button name="theater mode lighting- dark" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/685/push/2?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript/><postscript/></button><button name="theater lights all on soft" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/685/push/6?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript/><postscript/></button><button name="theater lights all on daylight" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/132/push/7?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript/><postscript/></button><button name="theater-status-timer" type="http#&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="3.00" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/207?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script>data = JSON.parse(_feedback);

_local.masterStatus = data.attributes[0].currentValue;
//log('got status ' + _local.masterStatus);

//if (_local.masterStatus != _local.lastStatus) {
    if (_local.masterStatus == 'on') {
         //log('status =on ' + _brightness);
        _local.lastStatus = _local.masterStatus;
      if( _brightness &lt; 1) {
        return '[#]full-brightness';
       }
    } else if (_local.masterStatus == 'off') {
        _local.lastStatus = _local.masterStatus;
    // log('status = off ' + _brightness);
      if( _brightness &gt; 0 &amp;amp;&amp;amp; _brightness &lt;= 1) {
         return '[#]dim';
      } 
       
    }

checkServiceConnection(_global.touchcontrolServerHost, _global.touchcontrolServerPort);

//}</script><prescript/><postscript/></button><button name="theater soffits on soft" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="hubitat" remotePort="GET" voice="" varImage=""><code>apps/api/303/devices/685/push/3?access_token=7bf9f6ec-c032-46ca-b7b0-7d663ee4452d</code><script/><prescript/><postscript/></button><button name="onload-theater" type="script" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script>_local.tcDisconnect=myDisconnectFunction; // executes when socket connection is broken
_local.tcReconnect=myReconnectFunction; // executes when socket connection is re- established


function myDisconnectFunction(button, host, port) {
     _local.message = 'Problem connecting to kodi please check device';
      _setTop('_macroMessage', 100);
      _setLeft('_macroMessage', 100);

}

function myReconnectFunction(button, host, port) {

}

_local.message =  "Please Wait Startup up…";

_global.kodiHost='192.168.1.10';
_global.kodiPort=80;

_global.touchcontrolServerHost='192.168.1.122';
_global.touchcontrolServerPort=8822;

_global.serverDown = false;


//log("autoloaded from " + _global.touchcontrolServerHost +':' +_global.touchcontrolServerPort );

return '[#]{&gt;}theater-status-timer';</script></button><button name="touchserver-check" type="script#" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="5.00" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="" remotePort="" voice="" varImage=""><code/><script>var result = _connectable(_global.touchcontrolServerHost, _global.touchcontrolServerPort);


if (!result &amp;amp;&amp;amp; _global.showingError ) {
        _local.message = 'Connection failed to automation(TouchControl) server.';
       _setText('_macroMessage', _local.message);
      _setTop('_macroMessage', 100);
      _setLeft('_macroMessage', 100);
       _global.showingError = true;
} else if (result &amp;amp;&amp;amp; !_global.showingError) {
      _setTop('_macroMessage',800);
      _setLeft('_macroMessage', 0);
     _global.showingError = false;
}</script></button></buttons></device><device name="firetv"><buttons><button name="nav up" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/up</code><script/><prescript/><postscript/></button><button name="nav down" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/down</code><script/><prescript/><postscript/></button><button name="nav left" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/left</code><script/><prescript/><postscript/></button><button name="nav right" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/right</code><script/><prescript/><postscript/></button><button name="nav center" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/enter</code><script/><prescript/><postscript/></button><button name="back" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/back</code><script/><prescript/><postscript/></button><button name="play" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/media_play</code><script/><prescript/><postscript/></button><button name="pause" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/media_pause</code><script/><prescript/><postscript/></button><button name="next" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/media_next</code><script/><prescript/><postscript/></button><button name="previous" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/media_previous</code><script/><prescript/><postscript/></button><button name="home" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/home</code><script/><prescript/><postscript/></button><button name="menu" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/menu</code><script/><prescript/><postscript/></button><button name="start_netflix" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/theater/apps/com.netflix.ninja/start</code><script/><prescript/><postscript/></button><button name="start_hbo" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/theater/apps/com.hbo.hbonow/start</code><script/><prescript/><postscript/></button><button name="turn_on" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/turn_on</code><script/><prescript/><postscript/></button><button name="start_crunchyroll" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/theater/apps/com.crunchyroll.crunchyroid/start</code><script/><prescript/><postscript/></button><button name="turn_off" type="http" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="firetv-server" remotePort="GET" voice="" varImage=""><code>devices/action/theater/turn_off</code><script/><prescript/><postscript/></button></buttons></device><device name="sonyprojector"><buttons><button name="power status" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="norefresh" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache-serial1" remotePort="" voice="" varImage=""><code>power_status ?\/rn</code><script/><prescript/><postscript/></button><button name="power on" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="On" touchTip="" remoteHost="globalcache-serial1" remotePort="" voice="" varImage=""><code>0x:8C000002018F\//</code><script/><prescript/><postscript/></button><button name="power off" type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Off" touchTip="" remoteHost="sony projector" remotePort="GET" voice="" varImage=""><code>\x01\x00\xA9\x17\x2E\x00\x00\x00\x3F\x9A\//</code><script/><prescript/><postscript/></button><button name="Input HDMI 1" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02IIS:HD1\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Input HDMI 2" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02IIS:HD2\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Input HDMI 3" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02IIS:HD3\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Normal" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:NOR\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Dynamic" type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="ChatClient" remotePort="" voice="" varImage=""><code>\x02VPM:DYN\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Game" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:GM1\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Cinema 1" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:CN1\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - Cinema 2" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:CN2\x03\//</code><script/><prescript/><postscript/></button><button name="Picture Mode - D-Cinema" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02VPM:DCN\x03\//</code><script/><prescript/><postscript/></button><button name="Power Model Query" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02QPW\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Input Query" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02QIN\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="Picture Mode Query" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache" remotePort="" voice="" varImage=""><code>\x02QPM\x03\x0D\//</code><script/><prescript/><postscript/></button><button name="power off2" type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="Off" touchTip="" remoteHost="sony projector" remotePort="GET" voice="" varImage=""><code>\x8C\x00\x00\x02\x00\x8E\/n</code><script/><prescript/><postscript/></button><button name="power on3" type="gc&lt;" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache-serial1" remotePort="" voice="" varImage=""><code>power "on"\/rn</code><script/><prescript/><postscript/></button><button name="power on (network)" type="et" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="sony-projector-ADCP" remotePort="" voice="" varImage=""><code>power "on"\/rn</code><script/><prescript/><postscript/></button><button name="power on (globalcache)" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache-serial1" remotePort="" voice="" varImage=""><code>power "on"\/rn</code><script/><prescript/><postscript/></button><button name="power off (globalcache)" type="gc" top="" left="" width="" height="" textPosition="" textSize="" textColor="" delay="" buttonPack="" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.10" rotation="" autoexec="" autoappear="" autoexit="" autoresume="" icon="" text="" touchTip="" remoteHost="globalcache-serial1" remotePort="" voice="" varImage=""><code>power "off"\/rn</code><script/><prescript/><postscript/></button></buttons></device></devices><ipservers><server type="multipeer" name="Scoreboard Sender" ip="tc-scoreboard" protocol="browse" proxy="false"><bypass enabled="false"/></server><server type="multipeer" name="Scoreboard Receiver" ip="tc-scoreboard" protocol="advertise" proxy="false"><bypass enabled="false"/></server><server type="fblistener" name="ChatServer" ip="0.0.0.0" multicast="" port="65535" port3g="0" protocol="UDP" default="true"/><server type="event" name="ChatClient" ip="255.255.255.255" port="65535" port3g="0" protocol="UDP" default="" proxy="false"><bypass enabled="false">
      </bypass></server><server type="request" name="kodi" ip="192.168.1.10" port="80" port3g="80" protocol="TCP" default="true" proxy="false" auth="true" authId="a29kaQ==" authPass="a29kaQ=="><bypass enabled="false"/></server><server type="fblistener" name="DirecTVRemote_NOTIFY" ip="0.0.0.0" multicast="239.255.255.250" port="1900" port3g="0" protocol="UDP" default=""/><server type="event" name="DirecTVRemote_SSDPSEARCH" ip="239.255.255.250" port="1900" port3g="0" protocol="UDP" default="true" proxy="false"><bypass enabled="false"/></server><server type="request" name="luffy" ip="192.168.1.125" port="80" port3g="80" protocol="TCP" default="" proxy="false" auth="false"><bypass enabled="false"/></server><server type="fblistener" name="DirecTVRemote_SSDP" ip="0.0.0.0" multicast="" port="0" port3g="0" protocol="UDP" default="" proxy="false"><bypass enabled="false"/><multicast/></server><server name="globalcache" type="gc" ip="gc100:192.168.1.133" port="4998" port3g="4998" protocol="TCP" proxy="false"/><server name="marantz-theater" type="request" ip="192.168.1.38" port="80" port3g="80" protocol="TCP" proxy="false" auth="false"/><server name="hubitat" type="request" ip="192.168.1.51" port="80" port3g="80" protocol="TCP" proxy="false" auth="false"/><server name="globalcache-serial1" type="gc" ip="gc100:192.168.1.133" port="4999" port3g="4999" protocol="TCP" proxy="false"/><server name="kodi-proxy" type="request" ip="192.168.1.11" port="18081" port3g="18081" protocol="TCP" proxy="false" auth="true" authId="a29kaQ==" authPass="a29kaQ=="/><server name="postman-proxy" type="request" ip="localhost" port="5555" port3g="5555" protocol="TCP" proxy="false" auth="true" authId="a29kaQ==" authPass="a29kaQ=="/><server name="WOL Boadcast" type="event" ip="192.168.1.255" port="0" port3g="0" protocol="TCP" proxy="false"/><server name="firetv-server" type="request" ip="192.168.1.11" port="5556" port3g="0" protocol="TCP" proxy="false" auth="false"/><server name="sony projector" type="event" ip="192.168.1.120" port="53484" port3g="53484" protocol="UDP" proxy="false" auth="false"/><server name="sony-projector-ADCP" type="event" ip="192.168.1.120" port="53595" port3g="53595" protocol="TCP" proxy="false"/><server name="globalcache-serial2" type="gc" ip="gc100:192.168.1.133" port="5000" port3g="5000" protocol="TCP" proxy="false"/></ipservers><properties/><javascript><jsFile name="myutils">/Users/dandiodati/Documents/touchcontrolserver/script/utils.js</jsFile></javascript><templates><groups><group name="source panel template"><button name="source panel" type="group" text="source panel" voice="" varImage="" left="1" donate="false" top="87" width="208" height="438" textPosition="on" textSize="medium" textColor="" delay="no" template="source panel template!" buttonPack="TransDark" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="" remotePort="" icon="" touchTip="False" watchHTTPDirect="False" index="2" device="common"><code/></button><button name="nav up" type="http" text="nav up" voice="" varImage="" left="25" donate="false" top="277" width="106" height="104" textPosition="" textSize="medium" textColor="" delay="no" buttonPack="theater-buttons" buttonFile="theater-buttons/paddle-down-pressed.png" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="kodi-proxy" remotePort="POST" icon="" touchTip="False" watchHTTPDirect="False" group="common^source panel" index="0" device="common"><code>jsonrpc[?]{"jsonrpc":"2.0","method":"Input.Up","id":1}</code></button><button name="source -firetv" type="http" text="source -firetv" voice="" varImage="" left="-4" donate="false" top="114" width="134" height="96" textPosition="off" textSize="medium" textColor="" delay="no" buttonPack="theater-buttons" buttonFile="theater-buttons/source-firetv.png" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="" remotePort="" icon="" touchTip="False" watchHTTPDirect="False" group="common^source panel" index="1" device="common"><code/></button><button name="kodi tab selected" type="http" text="kodi tab selected" voice="" varImage="" left="-2" donate="false" top="7" width="150" height="93" textPosition="off" textSize="medium" textColor="" delay="no" buttonPack="theater-buttons" buttonFile="theater-buttons/source-kodi-selected.png" altButtonFile="" linkActivity="" repeat="0" interval="0.1" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="hubitat" remotePort="GET" icon="" touchTip="False" watchHTTPDirect="False" group="common^source panel" index="2" device="common"><code/></button></group><group name="source panel template2"><button name="source panel" type="group" text="source panel" voice="" varImage="" left="2" donate="false" top="86" width="168" height="418" textPosition="off" textSize="medium" textColor="" delay="no" template="source panel template2!" buttonPack="TransDark)" buttonFile="" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="" remotePort="" icon="" touchTip="False" watchHTTPDirect="False" index="20" device="common"><code/><properties>CornerRadius[~~]15</properties></button><button name="source-firetv" type="mac" text="source-firetv" voice="" varImage="" left="-5" donate="false" top="144" width="160" height="115" textPosition="off" textSize="medium" textColor="" delay="no" buttonPack="theater-buttons" buttonFile="theater-buttons/sources-blank.png" altButtonFile="theater-buttons/sources-blank-pressed.png" linkActivity="" repeat="0" interval="0.1" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="marantz-theater" remotePort="GET" icon="buttonicons/theater 100 x 100/source-firetv-icon.png" touchTip="False" watchHTTPDirect="False" group="common^source panel" index="1" device="common"><code>[{macrostart}{INPUT AUX1 [theater marantz]}|{link to firetv controls [common]}{macroend}]</code><prescript>;</prescript><postscript>;</postscript></button><button name="source-kodi" type="mac" text="source-kodi" voice="" varImage="" left="-8" donate="false" top="15" width="160" height="115" textPosition="off" textSize="medium" textColor="" delay="no" buttonPack="theater-buttons" buttonFile="theater-buttons/sources-blank.png" altButtonFile="theater-buttons/sources-blank-pressed.png" linkActivity="" repeat="0" interval="0.1" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="marantz-theater" remotePort="GET" icon="buttonicons/theater 100 x 100/source-kodi-icon.png" touchTip="False" watchHTTPDirect="False" group="common^source panel" index="2" device="common"><code>[{macrostart}{INPUT MPLAY [theater marantz]}|{link to kodi controls [common]}{macroend}]</code><prescript>;</prescript></button></group><group name="volume slider group"><button name="slider panel" type="group" text="slider panel" voice="" varImage="" left="212" donate="false" top="647" width="622" height="138" textPosition="off" textSize="medium" textColor="" delay="no" template="volume slider group!" buttonPack="theater-buttons)" buttonFile="theater-buttons/horizontal-panel-bottom.png" altButtonFile="" linkActivity="" repeat="0" interval="0.0" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="" remotePort="" icon="" touchTip="False" watchHTTPDirect="False" index="2" device="common"><code/></button><button name="volume-slider" type="slide" text="volume-slider" voice="" varImage="" left="49" donate="false" top="64" width="508" height="22" textPosition="on" textSize="medium" textColor="" delay="no" buttonPack="" buttonFile="" altButtonFile="" linkActivity="multi_button" repeat="0" interval="0.0" rotation="0.0" autoexec="False" autoappear="False" autoexit="False" autoresume="False" remoteHost="" remotePort="" icon="" touchTip="False" watchHTTPDirect="False" group="common^slider panel" index="0" device="theater marantz"><code>42:62:1:57:theater marantz^volumeset:theater marantz^volumeset</code><properties>sliderThumb[~~]theaterslider-thumb.png[~]sliderBarLeft[~~]theaterslider-leftbar.png[~]sliderBarRight[~~]theaterslider-rightbar.png</properties></button></group></groups></templates></touchControl>
